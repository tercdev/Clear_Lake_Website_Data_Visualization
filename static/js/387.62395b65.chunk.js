(self.webpackChunkclear_lake_restoration_app=self.webpackChunkclear_lake_restoration_app||[]).push([[387],{4699:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});a(2791);var n=a(184);var r=function(){return(0,n.jsxs)("div",{className:"data-disclaimer",children:[(0,n.jsx)("p",{className:"disclaimer1",children:"Note: These data are provisional and not error checked!"}),(0,n.jsx)("p",{className:"disclaimer2",children:"These data were collected and are currently being processed and analyzed by the UC Davis Tahoe Environmental Research Center (TERC). They are considered preliminary. Do not use or distribute without written permission from TERC."}),(0,n.jsx)("p",{className:"disclaimer2",children:"For all questions please contact Dr. Shohei Watanabe (swatanabe@ucdavis.edu) or Dr. Alicia Cortes (alicortes@ucdavis.edu)"})]})}},5899:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});a(2791);var n=a(9513),r=a.n(n),o=(a(8639),a(8096)),i=a(184);var s=function(e){var t=new Date;return(0,i.jsxs)("div",{className:"date-container",children:[(0,i.jsxs)("div",{className:"one-date-container",children:[(0,i.jsx)("p",{className:"date-label",children:"Start Date"}),(0,i.jsx)(r(),{selected:e.startDate,onChange:e.handleStartDateChange,selectsStart:!0,startDate:e.startDate,endDate:e.endDate,minDate:(0,o.kw)(e.endDate,e.maxDays),maxDate:e.endDate})]}),(0,i.jsxs)("div",{className:"one-date-container",children:[(0,i.jsx)("p",{className:"date-label",children:"End Date"}),(0,i.jsx)(r(),{selected:e.endDate,onChange:e.handleEndDateChange,selectsEnd:!0,startDate:e.startDate,endDate:e.endDate,minDate:e.startDate,maxDate:(0,o.E4)(e.startDate,e.maxDays,t)})]}),(0,i.jsx)("div",{className:"one-date-container",children:(0,i.jsx)("button",{className:"submitButton",onClick:e.setGraphDates,children:"Submit"})})]})}},3387:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return b}});var n=a(1413),r=a(4942),o=a(9439),i=a(2791),s=a(9718),c=a.n(s),l=a(2003),d=a.n(l),u=a(6915),p=a.n(u),f=a(184);function h(e){var t=e.chartProps,a=e.isLoading,n=(0,i.useRef)(null);return(0,i.useEffect)((function(){console.log(a)}),[a]),(0,f.jsxs)("div",{children:[a&&(0,f.jsx)("p",{className:"loading-info",children:"Fetching Creek Data..."}),(0,f.jsx)(d(),{highcharts:c(),ref:n,allowChartUpdate:!0,options:t})]})}var m=a(5899),g=a(4699);function x(e,t){var a=[];return"Flow"==t?e.forEach((function(e){a.push([new Date(e.DateTime_UTC).getTime(),parseFloat(e[t])])})):"Rain"==t?e.forEach((function(e){a.push([new Date(e.DateTime_PST).getTime(),parseFloat(e[t])])})):e.forEach((function(e){var n;a.push([new Date(e.TmStamp).getTime(),(n=parseFloat(e[t]),Math.round(1.8*n+32))])})),a.reverse()}function y(e){var t=e.getFullYear().toString(),a=(e.getMonth()+1).toString(),n=e.getDate().toString();return a.length<2&&(a="0"+a),n.length<2&&(n="0"+n),t+a+n}function b(e){var t=(0,i.useState)({chart:{zoomType:"x"},time:{useUTC:!1},title:(0,r.Z)({text:"stream temperature"},"text",null),xAxis:{type:"datetime"},yAxis:{title:{text:"Temperature in Farenheit"}},credits:{enabled:!1},series:[{name:"Temperature",data:[],selected:!0}],tooltip:{headerFormat:"<b>{series.name} {point.y} \xb0F</b><br>",pointFormat:"{point.x:%m/%d/%y %H:%M:%S} PST"},updateTime:{setTime:0,endTime:0}}),a=(0,o.Z)(t,2),s=a[0],l=a[1],d=(0,i.useState)({chart:{zoomType:"x"},credits:{enabled:!1},time:{useUTC:!1},title:{text:""},xAxis:{type:"datetime"},yAxis:[{labels:{format:"{value} NTU",style:{color:c().getOptions().colors[3]}},title:{text:"Turbidity [NTU]",style:{color:c().getOptions().colors[3]}},opposite:!0,lineColor:c().getOptions().colors[3],lineWidth:5},{title:{text:"Flow [cfs]",style:{color:c().getOptions().colors[0]}},labels:{format:"{value} cfs",style:{color:c().getOptions().colors[0]}},lineColor:c().getOptions().colors[0],lineWidth:5}],tooltip:{formatter:function(){var e=new Date(this.x).getDate();return[new Date(this.x).getMonth()+1+"-"+e+"-"+new Date(this.x).getFullYear()+"  "+new Date(this.x).getHours()+":"+new Date(this.x).getMinutes()].concat(this.points?this.points.map((function(e){return e.series.name+": "+e.y})):[])},split:!0},series:[{name:"Turbidity",data:[],selected:!0,yAxis:0,color:c().getOptions().colors[3]},{name:"Flow",data:[],selected:!0,yAxis:1,color:c().getOptions().colors[0]}],updateTime:{setTime:0,endTime:0}}),u=(0,o.Z)(d,2),b=u[0],w=u[1],v=(0,i.useState)({chart:{zoomType:"x"},credits:{enabled:!1},title:{text:""},xAxis:{type:"datetime"},yAxis:{title:{text:"Precipitation [in]"}},legend:{enabled:!1},series:[{type:"column",name:"Precipitation",data:[]}],tooltip:{headerFormat:"<b>{series.name} {point.y} in</b><br>",pointFormat:"{point.x:%m/%d/%y %H:%M:%S} PST"}}),D=(0,o.Z)(v,2),j=D[0],S=D[1],T=new Date,C=new Date(T.getFullYear(),T.getMonth(),T.getDate()-7),k=(0,i.useState)(C),N=(0,o.Z)(k,2),O=N[0],F=N[1],E=(0,i.useState)(T),L=(0,o.Z)(E,2),A=L[0],Z=L[1],P=(0,i.useState)(C),_=(0,o.Z)(P,2),R=_[0],U=_[1],M=(0,i.useState)(T),z=(0,o.Z)(M,2),H=z[0],I=z[1];var Y=new URL("https://tepfsail50.execute-api.us-west-2.amazonaws.com/v1/report/cl-creeks"),W=Y.searchParams;W.set("id",e.id),W.set("rptdate",y(R)),W.set("rptend",y(H)),Y.search=W.toString();var q=Y.toString(),B=p()(q),G=new URL("https://b8xms0pkrf.execute-api.us-west-2.amazonaws.com/default/clearlake-streams"),$=G.searchParams;$.set("id",e.id),$.set("start",y(R)),$.set("end",y(H)),G.search=$.toString();var J=G.toString(),K=p()(J),Q=new URL("https://ts09zwptz4.execute-api.us-west-2.amazonaws.com/default/clearlake-precipitation-api"),V=Q.searchParams;V.set("id",e.id),V.set("start",y(R)),V.set("end",y(H)),Q.search=V.toString();var X=Q.toString(),ee=p()(X);return(0,i.useEffect)((function(){if(console.log("use effect for turb temp"),console.log("creek data loading: ",B.isLoading),!B.isLoading){var e=x(B.data,"Turb_Temp"),t=x(B.data,"Turb_BES");if(l((0,n.Z)((0,n.Z)({},s),{},{series:[{data:e}]})),!K.isLoading){console.log("loaded flow data");var a=x(K.data,"Flow");w((0,n.Z)((0,n.Z)({},b),{},{series:[{data:t},{data:a}]}))}console.log(s)}if(console.log("rainData loading: ",ee.isLoading),!ee.isLoading){e=x(ee.data,"Rain");S((0,n.Z)((0,n.Z)({},j),{},{series:[{data:e}]}))}}),[R,H,B.isLoading,K.isLoading,ee.isLoading]),(0,f.jsxs)("div",{className:"stream-container",children:[(0,f.jsx)("div",{className:"station-page-header",children:(0,f.jsx)("h1",{className:"station-page-title",children:e.name})}),(0,f.jsx)(g.Z,{}),(0,f.jsx)("div",{className:"data-desc-container",children:(0,f.jsxs)("p",{className:"data-desc",children:["Select start and end dates (maximum 180 day period). ",(0,f.jsx)("br",{}),"Click submit to update the graphs below.",(0,f.jsx)("br",{}),"Allow some time for the data to be fetched. The longer the selected time period, the longer it will take to load.",(0,f.jsx)("br",{}),"Use the hamburger icon on the top right of each graph to download the data displayed in the graph.",(0,f.jsx)("br",{}),"Click and drag in the plot area to zoom in.",(0,f.jsx)("br",{}),"If there is no data, the sensors might not be submerged in the water. Check ",(0,f.jsx)("a",{href:"https://clearlakerestoration.sf.ucdavis.edu/metadata",children:"here"})," for more information. ",(0,f.jsx)("br",{}),"Flow data is from the California Nevada River Forecast Center."]})}),(0,f.jsx)(m.Z,{startDate:O,endDate:A,handleStartDateChange:function(e){F(e)},handleEndDateChange:function(e){Z(e)},setGraphDates:function(){U(O),I(A)},maxDays:180}),(0,f.jsx)(h,{chartProps:b,isLoading:B.isLoading}),(0,f.jsx)(h,{chartProps:s,isLoading:B.isLoading}),(0,f.jsx)(h,{chartProps:j,isLoading:B.isLoading})]})}},8096:function(e,t,a){"use strict";function n(e){var t=e.getFullYear().toString(),a=(e.getMonth()+1).toString(),n=e.getDate().toString();return a.length<2&&(a="0"+a),n.length<2&&(n="0"+n),t+a+n}function r(e,t){return new Date((new Date).setDate(e.getDate()-t))}function o(e,t,a){var n=new Date((new Date).setDate(e.getDate()+t));return a<n?a:n}a.d(t,{Ny:function(){return n},kw:function(){return r},E4:function(){return o}})},2003:function(e,t,a){var n;"undefined"!=typeof self&&self,e.exports=(n=a(2791),function(e){function t(n){if(a[n])return a[n].exports;var r=a[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var a={};return t.m=e,t.c=a,t.d=function(e,a,n){t.o(e,a)||Object.defineProperty(e,a,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(a,"a",a),a},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,a){"use strict";function n(){return n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},n.apply(this,arguments)}function r(e){return c(e)||s(e)||i(e)||o()}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(e,t){if(e){if("string"==typeof e)return l(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?l(e,t):void 0}}function s(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function c(e){if(Array.isArray(e))return l(e)}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0});var u=a(1),p=a.n(u),f="undefined"!=typeof window?u.useLayoutEffect:u.useEffect,h=Object(u.forwardRef)((function(e,t){var a=Object(u.useRef)(),o=Object(u.useRef)();return f((function(){function t(){var t=e.highcharts||"object"===("undefined"==typeof window?"undefined":d(window))&&window.Highcharts,n=e.constructorType||"chart";t?t[n]?e.options?o.current=t[n](a.current,e.options,e.callback?e.callback:void 0):console.warn('The "options" property was not passed.'):console.warn('The "constructorType" property is incorrect or some required module is not imported.'):console.warn('The "highcharts" property was not passed.')}if(o.current){if(!1!==e.allowChartUpdate)if(!e.immutable&&o.current){var n;(n=o.current).update.apply(n,[e.options].concat(r(e.updateArgs||[!0,!0])))}else t()}else t()})),f((function(){return function(){o.current&&(o.current.destroy(),o.current=null)}}),[]),Object(u.useImperativeHandle)(t,(function(){return{get chart(){return o.current},container:a}}),[]),p.a.createElement("div",n({},e.containerProps,{ref:a}))}));t.default=Object(u.memo)(h)},function(e,t){e.exports=n}]))},8639:function(){}}]);
//# sourceMappingURL=387.62395b65.chunk.js.map