"use strict";(self.webpackChunkclear_lake_restoration_app=self.webpackChunkclear_lake_restoration_app||[]).push([[779],{3421:function(e,a,l){l.r(a),l.d(a,{default:function(){return p}});var s=l(9439),n=l(2791),r=l(5861),t=l(7757),i=l.n(t),d=l(5931),c=l.n(d),o=(l(8022),l(184)),m=function(){var e=l(4569).default,a=function(){var a=(0,r.Z)(i().mark((function a(l){var s,n,r,t,d,c;return i().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:console.log(l),s=0;case 2:if(!(s<l.length)){a.next=20;break}return n=l[s],r=n.file.name.toLowerCase().split("_"),t=void 0,console.log(r),t="met"==r[0]||"clearlake"==r[0]?r[0]+"/"+r[1]+"/"+n.file.name:"streams"==r[0]?r[0]+"/"+r[1]+"/"+r[2]+"/"+n.file.name:n.file.name,a.next=10,e({method:"POST",url:"https://swkt2vo9q1.execute-api.us-west-2.amazonaws.com/default/clearlake-getPresignedFileURL",headers:{"Content-Type":"text/plain"},data:{fileName:t}});case 10:return d=a.sent,console.log("Response: ",d),a.next=14,fetch(d.data.uploadURL,{method:"PUT",headers:{"Content-Type":"text/csv"},body:n.file});case 14:c=a.sent,console.log("Result: ",c),n.remove();case 17:s++,a.next=2;break;case 20:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return(0,o.jsx)("div",{className:"drop-container",children:(0,o.jsx)(c(),{onChangeStatus:function(e,a){var l=e.meta;e.remove;console.log(a,l)},onSubmit:a,maxFiles:5,accept:"text/csv",inputContent:function(e,a){return a.reject?"CSV files only":"Drag CSV Files"},disabled:function(e){return e.some((function(e){return["preparing","getting_upload_params","uploading"].includes(e.meta.status)}))},styles:{dropzoneReject:{borderColor:"red",backgroundColor:"#DAA"},inputLabel:function(e,a){return a.reject?{color:"red"}:{}}}})})},u=m,h=l(1413);var x=function(e){var a=e.Login,l=e.error,r=(0,n.useState)({name:"",email:"",password:""}),t=(0,s.Z)(r,2),i=t[0],d=t[1];return(0,o.jsx)("form",{onSubmit:function(e){e.preventDefault(),a(i)},children:(0,o.jsxs)("div",{className:"form-inner",children:[(0,o.jsx)("h2",{children:"Login to upload"}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{className:"form-label",htmlFor:"name",children:"Name:"}),(0,o.jsx)("input",{className:"form-input",type:"text",name:"name",id:"name",onChange:function(e){return d((0,h.Z)((0,h.Z)({},i),{},{name:e.target.value}))},value:i.name})]}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{className:"form-label",htmlFor:"email",children:"Email:"}),(0,o.jsx)("input",{className:"form-input",type:"email",name:"email",id:"email",onChange:function(e){return d((0,h.Z)((0,h.Z)({},i),{},{email:e.target.value}))},value:i.email})]}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{className:"form-label",htmlFor:"password",children:"Password:"}),(0,o.jsx)("input",{className:"form-input",type:"password",name:"password",id:"password",onChange:function(e){return d((0,h.Z)((0,h.Z)({},i),{},{password:e.target.value}))},value:i.password})]}),""!=l?(0,o.jsx)("div",{className:"error",children:l}):"",(0,o.jsx)("input",{className:"submit-btn",type:"submit",value:"LOGIN"})]})})};function p(){var e="admin@admin.com",a="admin123",l=(0,n.useState)({name:"",email:""}),r=(0,s.Z)(l,2),t=r[0],i=r[1],d=(0,n.useState)(""),c=(0,s.Z)(d,2),m=c[0],h=c[1];return(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{className:"drop-csv-header",children:[(0,o.jsx)("h1",{className:"drop-title",children:"Upload CSV"}),(0,o.jsxs)("div",{className:"drop-disclaimer",children:[(0,o.jsx)("p",{children:"*Admin Use Only"}),(0,o.jsx)("p",{className:"drop-disclaimer1",children:"For all questions, please contact Dr. Alicia Cortes (alicortes@ucdavis.edu)"})]})]}),""!=t.email?(0,o.jsxs)("div",{className:"welcome-container",children:[(0,o.jsxs)("h2",{className:"welcome-header",children:["Welcome, ",(0,o.jsx)("span",{children:t.name}),"!"]}),(0,o.jsxs)("div",{className:"reminder-container",children:[(0,o.jsx)("h2",{className:"reminder-header",children:"Naming Convention for file uploads"}),(0,o.jsx)("p",{className:"file-type",children:"Meterology Files:"}),(0,o.jsxs)("ul",{children:[(0,o.jsx)("li",{children:"met_bkp_FROMdate_TOdate.csv"}),(0,o.jsx)("li",{children:"met_bvr_FROMdate_TOdate.csv"}),(0,o.jsx)("li",{children:"met_clo_FROMdate_TOdate.csv"}),(0,o.jsx)("li",{children:"met_jgb_FROMdate_TOdate.csv"}),(0,o.jsx)("li",{children:"met_knb_FROMdate_TOdate.csv"}),(0,o.jsx)("li",{children:"met_nic_FROMdate_TOdate.csv"}),(0,o.jsx)("li",{children:"met_nlp_FROMdate_TOdate.csv"})]}),(0,o.jsx)("p",{className:"file-type",children:"Stream Files:"}),(0,o.jsxs)("ul",{children:[(0,o.jsx)("li",{children:"stream_kck_turb_FROMdate_TOdate.csv"}),(0,o.jsx)("li",{children:"stream_mcu_turb_FROMdate_TOdate.csv"}),(0,o.jsx)("li",{children:"stream_scs_turb_FROMdate_TOdate.csv"}),(0,o.jsx)("li",{children:"Flow and Rain data will automatically be scraped and added into its corresponding table (no file upload needed)"})]}),(0,o.jsx)("p",{className:"file-type",children:"Lake Files:"}),(0,o.jsxs)("ul",{children:[(0,o.jsx)("li",{children:"Profile Data (CTD)"}),(0,o.jsx)("ul",{children:(0,o.jsx)("li",{children:"ClearLake_ProfileData_FROMdate_TOdate.csv"})}),(0,o.jsx)("li",{children:"Lake Mooring (TChain) Oxygen"}),(0,o.jsxs)("ul",{children:[(0,o.jsx)("li",{children:"ClearLake_LA03oxygen_FROMdate_TOdate.csv"}),(0,o.jsx)("li",{children:"ClearLake_NR02oxygen_FROMdate_TOdate.csv"}),(0,o.jsx)("li",{children:"ClearLake_OA04oxygen_FROMdate_TOdate.csv"}),(0,o.jsx)("li",{children:"ClearLake_UA01oxygen_FROMdate_TOdate.csv"}),(0,o.jsx)("li",{children:"ClearLake_UA06oxygen_FROMdate_TOdate.csv"}),(0,o.jsx)("li",{children:"ClearLake_UA08oxygen_FROMdate_TOdate.csv"})]}),(0,o.jsx)("li",{children:"Lake Mooring (TChain) Temperature"}),(0,o.jsxs)("ul",{children:[(0,o.jsx)("li",{children:"ClearLake_LA03temperature_FROMdate_TOdate.csv"}),(0,o.jsx)("li",{children:"ClearLake_NR02temperature_FROMdate_TOdate.csv"}),(0,o.jsx)("li",{children:"ClearLake_OA04temperature_FROMdate_TOdate.csv"}),(0,o.jsx)("li",{children:"ClearLake_UA01temperature_FROMdate_TOdate.csv"}),(0,o.jsx)("li",{children:"ClearLake_UA06temperature_FROMdate_TOdate.csv"}),(0,o.jsx)("li",{children:"ClearLake_UA08temperature_FROMdate_TOdate.csv"})]})]})]}),(0,o.jsxs)("div",{className:"reminder-container",children:[(0,o.jsx)("h2",{className:"reminder-header",children:"Other reminders"}),(0,o.jsxs)("ul",{children:[(0,o.jsx)("li",{children:"Dropzone only accepts up to 5 CSV files at a time"}),(0,o.jsx)("li",{children:"Files must be in .csv format"}),(0,o.jsx)("li",{children:"Once uploaded file, please verify database table on changes"}),(0,o.jsx)("li",{children:"FROMdate and TOdate format: YearMonthDate (eg. 20220314)"})]})]}),".",(0,o.jsx)(u,{}),(0,o.jsx)("div",{className:"logout-btn-container",children:(0,o.jsx)("button",{className:"logout-btn",onClick:function(){console.log("log out"),i({name:"",email:""})},children:"Logout"})})]}):(0,o.jsx)(x,{Login:function(l){console.log(l),l.email==e&&l.password==a?(console.log("logged in"),i({name:l.name,email:l.email})):(console.log("details not match"),h("Invalid login!"))},error:m})]})}}}]);
//# sourceMappingURL=779.8e003a09.chunk.js.map